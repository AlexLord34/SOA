# API Gateway Service

## Назначение
API Gateway является **единой точкой входа** во всю систему, отвечая за маршрутизацию входящих запросов к соответствующим сервисам. Это центральный коммуникационный хаб, который абстрагирует клиентов от внутренней структуры сервисов.

## Зоны ответственности
1. **Маршрутизация запросов**:
   - Перенаправление запросов к нужным сервисам на основе URL и HTTP-методов
   - Примеры:
     - `/api/users/**` → User Service
     - `/api/posts/**` → Post Service
     - `/api/stats/**` → Stats Service

2. **Упрощение клиентского взаимодействия**:
   - Предоставление единого API-контракта для фронтенда
   - Сокрытие внутренней структуры микросервисов

3. **Базовые функции безопасности**:
   - HTTPS termination
   - IP filtering (при необходимости)
   - CORS management

## Границы сервиса
### Входящие взаимодействия:
| Источник       | Протокол | Назначение |
|----------------|----------|------------|
| Веб-интерфейс (UI) | HTTP/HTTPS | Получение пользовательских запросов |

### Исходящие взаимодействия:
| Целевой сервис | Протокол | Назначение |
|----------------|----------|------------|
| User Service   | REST/gRPC | Управление пользователями, аутентификация |
| Post Service   | REST/gRPC | Операции с постами и комментариями |
| Stats Service  | REST | Получение аналитической информации |

### Что НЕ входит в обязанности:
-  Хранение каких-либо данных
-  Реализация бизнес-логики
-  Агрегация данных из нескольких сервисов
-  Валидация данных (кроме базовой проверки формата)
-  Аутентификация/авторизация (должна выполняться в User Service)

##  Технологический стек
- **Основное решение**: Kong API Gateway или Nginx
- **Протоколы**: 
  - Внешние: HTTP/1.1, HTTP/2, WebSocket
  - Внутренние: REST JSON, gRPC
- **Особенности конфигурации**:
  ```nginx
  # Пример маршрута для User Service
  location /api/users {
    proxy_pass http://user-service:8000;
    proxy_set_header X-Real-IP $remote_addr;
  }
  
  # Пример маршрута для Post Service
  location /api/posts {
    proxy_pass http://post-service:8001;
  }
